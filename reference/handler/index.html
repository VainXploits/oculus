<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Novel identity discovery utility"><meta name=author content="Paul Pfeister"><link href="https://sylva.pfei.cc/reference/handler/" rel="canonical"><link href=../interactive/ rel=prev><link href=../collector/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.30"><title>Request Handler - Sylva</title><link rel=stylesheet href=../../assets/stylesheets/main.3cba04c6.min.css><link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-8HJW3DB3RW"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-8HJW3DB3RW",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-8HJW3DB3RW",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#sylva.handler.Handler class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=Sylva class="md-header__button md-logo" aria-label=Sylva data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Sylva </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Request Handler </span> </div> </div> </div> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__source> <a href="https://github.com/ppfeister/sylva" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ppfeister/sylva </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../install/ class=md-tabs__link> Getting Started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../interactive/ class=md-tabs__link> API Reference </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Sylva class="md-nav__button md-logo" aria-label=Sylva data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> Sylva </label> <div class=md-nav__source> <a href="https://github.com/ppfeister/sylva" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ppfeister/sylva </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../install/ class=md-nav__link> <span class=md-ellipsis> Universal (pip) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../interactive/ class=md-nav__link> <span class=md-ellipsis> Interactive Console </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Request Handler </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Request Handler </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#sylva.handler.Handler class=md-nav__link> <span class=md-ellipsis> Handler </span> </a> <nav class=md-nav aria-label=Handler> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sylva.handler.Handler.__default_country class=md-nav__link> <span class=md-ellipsis> __default_country </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.__in_recursion class=md-nav__link> <span class=md-ellipsis> __in_recursion </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.__proxy_svc class=md-nav__link> <span class=md-ellipsis> __proxy_svc </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.collector class=md-nav__link> <span class=md-ellipsis> collector </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.runners class=md-nav__link> <span class=md-ellipsis> runners </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.__del__ class=md-nav__link> <span class=md-ellipsis> __del__ </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.search_all class=md-nav__link> <span class=md-ellipsis> search_all </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.spider_all class=md-nav__link> <span class=md-ellipsis> spider_all </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sylva.handler.QueryDataItem class=md-nav__link> <span class=md-ellipsis> QueryDataItem </span> </a> <nav class=md-nav aria-label=QueryDataItem> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sylva.handler.QueryDataItem.query class=md-nav__link> <span class=md-ellipsis> query </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.QueryDataItem.type class=md-nav__link> <span class=md-ellipsis> type </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../collector/ class=md-nav__link> <span class=md-ellipsis> Collector </span> </a> </li> <li class=md-nav__item> <a href=../resultdf/ class=md-nav__link> <span class=md-ellipsis> Resultant Frames </span> </a> </li> <li class=md-nav__item> <a href=../generic_errors/ class=md-nav__link> <span class=md-ellipsis> Generic Errors </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#sylva.handler.Handler class=md-nav__link> <span class=md-ellipsis> Handler </span> </a> <nav class=md-nav aria-label=Handler> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sylva.handler.Handler.__default_country class=md-nav__link> <span class=md-ellipsis> __default_country </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.__in_recursion class=md-nav__link> <span class=md-ellipsis> __in_recursion </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.__proxy_svc class=md-nav__link> <span class=md-ellipsis> __proxy_svc </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.collector class=md-nav__link> <span class=md-ellipsis> collector </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.runners class=md-nav__link> <span class=md-ellipsis> runners </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.__del__ class=md-nav__link> <span class=md-ellipsis> __del__ </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.search_all class=md-nav__link> <span class=md-ellipsis> search_all </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.Handler.spider_all class=md-nav__link> <span class=md-ellipsis> spider_all </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sylva.handler.QueryDataItem class=md-nav__link> <span class=md-ellipsis> QueryDataItem </span> </a> <nav class=md-nav aria-label=QueryDataItem> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sylva.handler.QueryDataItem.query class=md-nav__link> <span class=md-ellipsis> query </span> </a> </li> <li class=md-nav__item> <a href=#sylva.handler.QueryDataItem.type class=md-nav__link> <span class=md-ellipsis> type </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Request Handler</h1> <div class="doc doc-object doc-class"> <h4 id=sylva.handler.Handler class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">sylva.handler.Handler</span> </h4> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>Handler</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents first"> <details class=quote> <summary>Source code in <code>src/sylva/handler.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=p>:</span><span class=n>Collector</span> <span class=o>=</span> <span class=n>Collector</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>__default_country</span><span class=p>:</span><span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;US&#39;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>__in_recursion</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>runners</span><span class=p>:</span><span class=n>List</span> <span class=o>=</span> <span class=p>[</span>
        <span class=c1>#proxynova.ProxyNova(collector=self.collector),</span>
        <span class=n>endato</span><span class=o>.</span><span class=n>Endato</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=p>,</span> <span class=n>api_name</span><span class=o>=</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;Keys&#39;</span><span class=p>][</span><span class=s1>&#39;endato-name&#39;</span><span class=p>],</span> <span class=n>api_key</span><span class=o>=</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;Keys&#39;</span><span class=p>][</span><span class=s1>&#39;endato-key&#39;</span><span class=p>],</span> <span class=n>country</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__default_country</span><span class=p>),</span>
        <span class=c1>#intelx.IntelX(collector=self.collector, api_key=config[&#39;Keys&#39;][&#39;intelx-key&#39;]),</span>
        <span class=n>pgp_module</span><span class=o>.</span><span class=n>PGPModule</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=p>),</span>
        <span class=n>veriphone</span><span class=o>.</span><span class=n>Veriphone</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=p>,</span> <span class=n>api_key</span><span class=o>=</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;Keys&#39;</span><span class=p>][</span><span class=s1>&#39;veriphone-key&#39;</span><span class=p>],</span> <span class=n>country</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__default_country</span><span class=p>),</span>
        <span class=n>sherlock</span><span class=o>.</span><span class=n>Sherlock</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=p>),</span>
        <span class=n>github</span><span class=o>.</span><span class=n>GitHub</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=p>,</span> <span class=n>api_key</span><span class=o>=</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;Keys&#39;</span><span class=p>][</span><span class=s1>&#39;github-key&#39;</span><span class=p>]),</span>
        <span class=n>voter</span><span class=o>.</span><span class=n>Voter</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=p>),</span>
    <span class=p>]</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>__proxy_svc</span><span class=p>:</span><span class=n>ProxySvc</span> <span class=o>=</span> <span class=n>ProxySvc</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>config</span><span class=p>[</span><span class=s1>&#39;General&#39;</span><span class=p>][</span><span class=s1>&#39;flaresolverr&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;True&#39;</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>__proxy_svc</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>__proxy_svc</span><span class=o>.</span><span class=n>start_primary_session</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h5 id=sylva.handler.Handler.__default_country class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">__default_country</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=n>__default_country</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;US&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=sylva.handler.Handler.__in_recursion class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">__in_recursion</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=n>__in_recursion</span> <span class=o>=</span> <span class=kc>False</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=sylva.handler.Handler.__proxy_svc class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">__proxy_svc</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=n>__proxy_svc</span><span class=p>:</span> <span class=n>ProxySvc</span> <span class=o>=</span> <span class=n>ProxySvc</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=sylva.handler.Handler.collector class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">collector</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=n>collector</span><span class=p>:</span> <span class=n>Collector</span> <span class=o>=</span> <span class=n>Collector</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=sylva.handler.Handler.runners class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">runners</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=n>runners</span><span class=p>:</span> <span class=n>List</span> <span class=o>=</span> <span class=p>[</span><span class=n>Endato</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=n>collector</span><span class=p>,</span> <span class=n>api_name</span><span class=o>=</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;Keys&#39;</span><span class=p>][</span><span class=s1>&#39;endato-name&#39;</span><span class=p>],</span> <span class=n>api_key</span><span class=o>=</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;Keys&#39;</span><span class=p>][</span><span class=s1>&#39;endato-key&#39;</span><span class=p>],</span> <span class=n>country</span><span class=o>=</span><span class=n>__default_country</span><span class=p>),</span> <span class=n>PGPModule</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=n>collector</span><span class=p>),</span> <span class=n>Veriphone</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=n>collector</span><span class=p>,</span> <span class=n>api_key</span><span class=o>=</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;Keys&#39;</span><span class=p>][</span><span class=s1>&#39;veriphone-key&#39;</span><span class=p>],</span> <span class=n>country</span><span class=o>=</span><span class=n>__default_country</span><span class=p>),</span> <span class=n>Sherlock</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=n>collector</span><span class=p>),</span> <span class=n>GitHub</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=n>collector</span><span class=p>,</span> <span class=n>api_key</span><span class=o>=</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;Keys&#39;</span><span class=p>][</span><span class=s1>&#39;github-key&#39;</span><span class=p>]),</span> <span class=n>Voter</span><span class=p>(</span><span class=n>collector</span><span class=o>=</span><span class=n>collector</span><span class=p>)]</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-function"> <h5 id=sylva.handler.Handler.__del__ class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">__del__</span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=fm>__del__</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>src/sylva/handler.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>test_if_flaresolverr_online</span><span class=p>(</span><span class=n>proxy_url</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__proxy_svc</span><span class=o>.</span><span class=n>primary_proxy_url</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>__proxy_svc</span><span class=o>.</span><span class=n>destroy_all_sessions</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>__proxy_svc</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 id=sylva.handler.Handler.search_all class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">search_all</span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>search_all</span><span class=p>(</span><span class=n>query</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>QueryDataItem</span><span class=p>,</span> <span class=n>no_deduplicate</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>src/sylva/handler.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>search_all</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>query</span><span class=p>:</span><span class=nb>str</span><span class=o>|</span><span class=n>QueryDataItem</span><span class=p>,</span> <span class=n>no_deduplicate</span><span class=p>:</span><span class=nb>bool</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=n>QueryDataItem</span><span class=p>):</span>
        <span class=n>query_type</span><span class=p>:</span><span class=n>QueryType</span> <span class=o>=</span> <span class=n>query</span><span class=o>.</span><span class=n>type</span>
        <span class=n>query</span><span class=p>:</span><span class=nb>str</span> <span class=o>=</span> <span class=n>query</span><span class=o>.</span><span class=n>query</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>query_type</span> <span class=o>=</span> <span class=n>QueryType</span><span class=o>.</span><span class=n>TEXT</span>

    <span class=n>total_discovered</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>for</span> <span class=n>runner</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>runners</span><span class=p>:</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>runner</span><span class=o>.</span><span class=n>accepts</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=n>query_type</span><span class=o>=</span><span class=n>query_type</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>loglevel</span> <span class=o>&gt;=</span> <span class=n>LogLevel</span><span class=o>.</span><span class=n>DEBUG</span><span class=o>.</span><span class=n>value</span><span class=p>:</span>
                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>Fore</span><span class=o>.</span><span class=n>LIGHTBLACK_EX</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>BRIGHT</span><span class=si>}</span><span class=s1>[-]</span><span class=si>{</span><span class=n>Style</span><span class=o>.</span><span class=n>RESET_ALL</span><span class=si>}{</span><span class=n>Fore</span><span class=o>.</span><span class=n>RESET</span><span class=si>}</span><span class=s1> Query type not supported by </span><span class=si>{</span><span class=n>runner</span><span class=o>.</span><span class=n>source_name</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=k>continue</span>

        <span class=k>if</span> <span class=n>loglevel</span> <span class=o>&gt;=</span> <span class=n>LogLevel</span><span class=o>.</span><span class=n>SUCCESS_ONLY</span><span class=o>.</span><span class=n>value</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>Fore</span><span class=o>.</span><span class=n>LIGHTCYAN_EX</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>BRIGHT</span><span class=si>}</span><span class=s1>[*]</span><span class=si>{</span><span class=n>Style</span><span class=o>.</span><span class=n>RESET_ALL</span><span class=si>}{</span><span class=n>Fore</span><span class=o>.</span><span class=n>RESET</span><span class=si>}</span><span class=s1> Searching </span><span class=si>{</span><span class=n>runner</span><span class=o>.</span><span class=n>source_name</span><span class=si>}</span><span class=s1>...&#39;</span><span class=p>)</span>

        <span class=n>proxy_data</span><span class=p>:</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
            <span class=s1>&#39;proxy_url&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>__proxy_svc</span><span class=o>.</span><span class=n>primary_proxy_url</span><span class=p>,</span>
            <span class=s1>&#39;flaresolverr_session_id&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>__proxy_svc</span><span class=o>.</span><span class=n>primary_session_id</span><span class=p>,</span>
        <span class=p>}</span>

        <span class=k>try</span><span class=p>:</span>
            <span class=c1># Each runner should return a DataFrame, but since that data is already</span>
            <span class=c1># added to the collector, all we care about is the number of new rows.</span>
            <span class=n>results</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>runner</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=n>in_recursion</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__in_recursion</span><span class=p>,</span> <span class=n>query_type</span><span class=o>=</span><span class=n>query_type</span><span class=p>,</span> <span class=n>proxy_data</span><span class=o>=</span><span class=n>proxy_data</span><span class=p>)</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>loglevel</span> <span class=o>&gt;=</span> <span class=n>LogLevel</span><span class=o>.</span><span class=n>SUCCESS_ONLY</span><span class=o>.</span><span class=n>value</span> <span class=ow>and</span> <span class=n>results</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
                <span class=n>overwrite_previous_line</span><span class=p>()</span>
                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>Fore</span><span class=o>.</span><span class=n>LIGHTGREEN_EX</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>BRIGHT</span><span class=si>}</span><span class=s1>[+]</span><span class=si>{</span><span class=n>Style</span><span class=o>.</span><span class=n>RESET_ALL</span><span class=si>}{</span><span class=n>Fore</span><span class=o>.</span><span class=n>RESET</span><span class=si>}</span><span class=s1> Found </span><span class=si>{</span><span class=n>results</span><span class=si>}</span><span class=s1> via </span><span class=si>{</span><span class=n>runner</span><span class=o>.</span><span class=n>source_name</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=k>elif</span> <span class=n>loglevel</span> <span class=o>&gt;=</span> <span class=n>LogLevel</span><span class=o>.</span><span class=n>INFO</span><span class=o>.</span><span class=n>value</span> <span class=ow>and</span> <span class=n>results</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                <span class=n>overwrite_previous_line</span><span class=p>()</span>
                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>Fore</span><span class=o>.</span><span class=n>LIGHTBLACK_EX</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>BRIGHT</span><span class=si>}</span><span class=s1>[-]</span><span class=si>{</span><span class=n>Style</span><span class=o>.</span><span class=n>RESET_ALL</span><span class=si>}{</span><span class=n>Fore</span><span class=o>.</span><span class=n>RESET</span><span class=si>}</span><span class=s1> No results found via </span><span class=si>{</span><span class=n>runner</span><span class=o>.</span><span class=n>source_name</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=k>elif</span> <span class=n>loglevel</span> <span class=o>&gt;=</span> <span class=n>LogLevel</span><span class=o>.</span><span class=n>SUCCESS_ONLY</span><span class=o>.</span><span class=n>value</span> <span class=ow>and</span> <span class=n>results</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                <span class=n>overwrite_previous_line</span><span class=p>()</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Something weird happened.&quot;</span><span class=p>)</span>
            <span class=n>total_discovered</span> <span class=o>+=</span> <span class=n>results</span>
        <span class=k>except</span> <span class=n>RequestError</span><span class=p>:</span>
            <span class=k>pass</span>
        <span class=k>except</span> <span class=n>APIKeyError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>e</span><span class=o>.</span><span class=n>key_not_provided</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>loglevel</span> <span class=o>&gt;=</span> <span class=n>LogLevel</span><span class=o>.</span><span class=n>INFO</span><span class=o>.</span><span class=n>value</span><span class=p>:</span>
                    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>Fore</span><span class=o>.</span><span class=n>LIGHTBLACK_EX</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>BRIGHT</span><span class=si>}</span><span class=s1>[-]</span><span class=si>{</span><span class=n>Style</span><span class=o>.</span><span class=n>RESET_ALL</span><span class=si>}{</span><span class=n>Fore</span><span class=o>.</span><span class=n>RESET</span><span class=si>}</span><span class=s1> API key has not been provided for </span><span class=si>{</span><span class=n>runner</span><span class=o>.</span><span class=n>source_name</span><span class=si>}</span><span class=s1> - </span><span class=si>{</span><span class=n>runner</span><span class=o>.</span><span class=n>source_obtain_keys_url</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>no_deduplicate</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=o>.</span><span class=n>deduplicate</span><span class=p>()</span>

    <span class=k>return</span> <span class=n>total_discovered</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 id=sylva.handler.Handler.spider_all class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">spider_all</span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>spider_all</span><span class=p>(</span><span class=n>query</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>depth</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>no_deduplicate</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>src/sylva/handler.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>spider_all</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>query</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>depth</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>no_deduplicate</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>):</span>
    <span class=c1># TODO Any way to pretty this up? Avoid re-running queries against all on raw input</span>
    <span class=n>queries_made</span><span class=p>:</span> <span class=nb>set</span> <span class=o>=</span> <span class=nb>set</span><span class=p>((</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>TEXT</span><span class=p>),))</span>
    <span class=n>queries_made</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>USERNAME</span><span class=p>))</span>
    <span class=n>queries_made</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>EMAIL</span><span class=p>))</span>
    <span class=n>queries_made</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>PHONE</span><span class=p>))</span>
    <span class=n>queries_made</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>FULLNAME</span><span class=p>))</span>
    <span class=n>queries_made</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>FIRSTNAME_LASTNAME</span><span class=p>))</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>search_all</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>)</span>

    <span class=k>try</span><span class=p>:</span>
        <span class=c1># Some modules automatically normalize phone numbers to E164, negating this additional query</span>
        <span class=n>e164_query</span> <span class=o>=</span> <span class=n>phonenumbers</span><span class=o>.</span><span class=n>format_number</span><span class=p>(</span><span class=n>phonenumbers</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>__default_country</span><span class=p>),</span> <span class=n>phonenumbers</span><span class=o>.</span><span class=n>PhoneNumberFormat</span><span class=o>.</span><span class=n>E164</span><span class=p>)</span>
        <span class=n>queries_made</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>e164_query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>PHONE</span><span class=p>))</span>
    <span class=k>except</span> <span class=p>(</span><span class=n>phonenumbers</span><span class=o>.</span><span class=n>phonenumberutil</span><span class=o>.</span><span class=n>NumberParseException</span><span class=p>,</span> <span class=ne>AttributeError</span><span class=p>):</span>
        <span class=k>pass</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>__in_recursion</span> <span class=o>=</span> <span class=kc>True</span> <span class=c1># Passed to runners so they can self-skip if spider-in disabled</span>

    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>depth</span><span class=p>):</span>
        <span class=n>new_queries</span><span class=p>:</span> <span class=nb>set</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>

        <span class=n>new_queries</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>USERNAME</span><span class=p>)</span> <span class=k>for</span> <span class=n>query</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=o>.</span><span class=n>get_unique_usernames</span><span class=p>(</span><span class=n>spiderable_only</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>
        <span class=n>new_queries</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>EMAIL</span><span class=p>)</span> <span class=k>for</span> <span class=n>query</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=o>.</span><span class=n>get_unique_emails</span><span class=p>(</span><span class=n>spiderable_only</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>
        <span class=n>new_queries</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>PHONE</span><span class=p>)</span> <span class=k>for</span> <span class=n>query</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=o>.</span><span class=n>get_unique_phones</span><span class=p>(</span><span class=n>spiderable_only</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>
        <span class=n>new_queries</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>FULLNAME</span><span class=p>)</span> <span class=k>for</span> <span class=n>query</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=o>.</span><span class=n>get_unique_fullnames</span><span class=p>(</span><span class=n>spiderable_only</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>
        <span class=n>new_queries</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>QueryDataItem</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=n>QueryType</span><span class=o>.</span><span class=n>FIRSTNAME_LASTNAME</span><span class=p>)</span> <span class=k>for</span> <span class=n>query</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=o>.</span><span class=n>get_unique_firstname_middlename_lastname_groups</span><span class=p>(</span><span class=n>spiderable_only</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>

        <span class=n>new_queries</span> <span class=o>-=</span> <span class=n>queries_made</span>
        <span class=n>queries_made</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>new_queries</span><span class=p>)</span>

        <span class=k>for</span> <span class=n>new_query</span> <span class=ow>in</span> <span class=n>new_queries</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>loglevel</span> <span class=o>&gt;=</span> <span class=n>LogLevel</span><span class=o>.</span><span class=n>SUCCESS_ONLY</span><span class=o>.</span><span class=n>value</span><span class=p>:</span>
                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>Fore</span><span class=o>.</span><span class=n>BLUE</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>BRIGHT</span><span class=si>}</span><span class=s1>[</span><span class=si>{</span><span class=n>Fore</span><span class=o>.</span><span class=n>RESET</span><span class=si>}</span><span class=s1>Depth </span><span class=si>{</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=si>}{</span><span class=n>Fore</span><span class=o>.</span><span class=n>BLUE</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>BRIGHT</span><span class=si>}</span><span class=s1>]</span><span class=si>{</span><span class=n>Fore</span><span class=o>.</span><span class=n>RESET</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>RESET_ALL</span><span class=si>}</span><span class=s1> </span><span class=si>{</span><span class=n>new_query</span><span class=o>.</span><span class=n>query</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>search_all</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=n>new_query</span><span class=p>):</span>
                <span class=n>overwrite_previous_line</span><span class=p>()</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=n>no_deduplicate</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>collector</span><span class=o>.</span><span class=n>deduplicate</span><span class=p>()</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>__proxy_svc</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><hr> <div class="doc doc-object doc-class"> <h4 id=sylva.handler.QueryDataItem class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">sylva.handler.QueryDataItem</span> </h4> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p> <p>Query value and typographical data.</p> <p>The QueryDataItem is a simple dataclass that holds the query itself and the enumerated type. This helps make the distinction between simple strings, identitical dicts, and similar, more apparent to Sylva.</p> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h5 id=sylva.handler.QueryDataItem.query class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">query</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=n>query</span><span class=p>:</span> <span class=nb>str</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=sylva.handler.QueryDataItem.type class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">type</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> </h5> <div class="doc-signature highlight"><pre><span></span><code><span class=nb>type</span><span class=p>:</span> <span class=n>QueryType</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> 2024-08-02 </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5 3 7M16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by opening a discussion on our <a href="https://github.com/ppfeister/sylva/issues/new/?title=[MkDocs]+Request%20Handler+-+/reference/handler/" target="_blank" rel="noopener">repository</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 Paul Pfeister </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> <div class=md-social> <a href="https://github.com/ppfeister" target="_blank" rel="noopener" title="github.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://pypi.org/project/sylva" target="_blank" rel="noopener" title="pypi.org" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better. <br><br> Ultimately, we don't get paid to maintain this project, and we'd like to know where to direct our limited resources.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.top"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.fe8b6f2b.min.js></script> </body> </html>